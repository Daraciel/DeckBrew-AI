<?xml version="1.0" encoding="UTF-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DeckBrew.Mobile.Views.HomePage"
             Title="DeckBrew AI">
  <ScrollView>
    <VerticalStackLayout Padding="16" Spacing="12">
      <Label Text="Generar mazo" FontAttributes="Bold" FontSize="24"/>
      
      <Picker x:Name="FormatPicker" Title="Formato">
        <Picker.Items>
          <x:String>Standard</x:String>
          <x:String>Modern</x:String>
          <x:String>Commander</x:String>
        </Picker.Items>
      </Picker>

      <Label Text="Selecciona colores:" FontAttributes="Bold"/>
      <FlexLayout Direction="Row" Wrap="Wrap" JustifyContent="SpaceEvenly" AlignItems="Center">
        <!-- Blanco -->
        <Border x:Name="WhiteFrame"
                StrokeShape="RoundRectangle 35"
                StrokeThickness="0"
                Margin="5"
                HeightRequest="70"
                WidthRequest="70"
                BackgroundColor="Transparent"
                Stroke="Transparent">
          <Button x:Name="WhiteButton" 
                  StyleId="WhiteButton"
                  Text="W"
                  FontSize="32"
                  FontAttributes="Bold"
                  BackgroundColor="#F8F6D8"
                  TextColor="#333"
                  WidthRequest="70"
                  HeightRequest="70"
                  CornerRadius="35"
                  Clicked="OnColorButtonClicked"
                  Padding="0"/>
        </Border>

        <!-- Azul -->
        <Border x:Name="BlueFrame"
                StrokeShape="RoundRectangle 35"
                StrokeThickness="0"
                Margin="5"
                HeightRequest="70"
                WidthRequest="70"
                BackgroundColor="Transparent"
                Stroke="Transparent">
          <Button x:Name="BlueButton" 
                  StyleId="BlueButton"
                  Text="U"
                  FontSize="32"
                  FontAttributes="Bold"
                  BackgroundColor="#0E68AB"
                  TextColor="White"
                  WidthRequest="70"
                  HeightRequest="70"
                  CornerRadius="35"
                  Clicked="OnColorButtonClicked"
                  Padding="0"/>
        </Border>

        <!-- Negro -->
        <Border x:Name="BlackFrame"
                StrokeShape="RoundRectangle 35"
                StrokeThickness="0"
                Margin="5"
                HeightRequest="70"
                WidthRequest="70"
                BackgroundColor="Transparent"
                Stroke="Transparent">
          <Button x:Name="BlackButton" 
                  StyleId="BlackButton"
                  Text="B"
                  FontSize="32"
                  FontAttributes="Bold"
                  BackgroundColor="#150B00"
                  TextColor="White"
                  WidthRequest="70"
                  HeightRequest="70"
                  CornerRadius="35"
                  Clicked="OnColorButtonClicked"
                  Padding="0"/>
        </Border>

        <!-- Rojo -->
        <Border x:Name="RedFrame"
                StrokeShape="RoundRectangle 35"
                StrokeThickness="0"
                Margin="5"
                HeightRequest="70"
                WidthRequest="70"
                BackgroundColor="Transparent"
                Stroke="Transparent">
          <Button x:Name="RedButton" 
                  StyleId="RedButton"
                  Text="R"
                  FontSize="32"
                  FontAttributes="Bold"
                  BackgroundColor="#D3202A"
                  TextColor="White"
                  WidthRequest="70"
                  HeightRequest="70"
                  CornerRadius="35"
                  Clicked="OnColorButtonClicked"
                  Padding="0"/>
        </Border>

        <!-- Verde -->
        <Border x:Name="GreenFrame"
                StrokeShape="RoundRectangle 35"
                StrokeThickness="0"
                Margin="5"
                HeightRequest="70"
                WidthRequest="70"
                BackgroundColor="Transparent"
                Stroke="Transparent">
          <Button x:Name="GreenButton" 
                  StyleId="GreenButton"
                  Text="G"
                  FontSize="32"
                  FontAttributes="Bold"
                  BackgroundColor="#00733E"
                  TextColor="White"
                  WidthRequest="70"
                  HeightRequest="70"
                  CornerRadius="35"
                  Clicked="OnColorButtonClicked"
                  Padding="0"/>
        </Border>

        <!-- Incoloro -->
        <Border x:Name="ColorlessFrame"
                StrokeShape="RoundRectangle 35"
                StrokeThickness="0"
                Margin="5"
                HeightRequest="70"
                WidthRequest="70"
                BackgroundColor="Transparent"
                Stroke="Transparent">
          <Button x:Name="ColorlessButton" 
                  StyleId="ColorlessButton"
                  Text="C"
                  FontSize="32"
                  FontAttributes="Bold"
                  BackgroundColor="#CAC5C0"
                  TextColor="#333"
                  WidthRequest="70"
                  HeightRequest="70"
                  CornerRadius="35"
                  Clicked="OnColorButtonClicked"
                  Padding="0"/>
        </Border>
      </FlexLayout>

      <Picker x:Name="StylePicker" Title="Estilo">
        <Picker.Items>
          <x:String>aggro</x:String>
          <x:String>control</x:String>
          <x:String>midrange</x:String>
          <x:String>combo</x:String>
        </Picker.Items>
      </Picker>
      
      <Entry x:Name="BudgetEntry" Placeholder="Presupuesto (opcional)" Keyboard="Numeric"/>
      
      <Button Text="Generar" Clicked="OnGenerateClicked" />
      
      <CollectionView x:Name="CardsList">
        <CollectionView.ItemTemplate>
          <DataTemplate>
            <Grid ColumnDefinitions="2*,auto" Padding="4">
              <Label Text="{Binding Name}"/>
              <Label Text="{Binding Count}" Grid.Column="1" HorizontalTextAlignment="End"/>
            </Grid>
          </DataTemplate>
        </CollectionView.ItemTemplate>
      </CollectionView>
    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
